<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - FlashcardsApp</title>
    <link rel="icon" href="../static/images/icon.png">
    <link rel="stylesheet" href="../static/login-register.css">
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.3.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
</head>


<body>

    <div class="flash-container">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="flash-messages">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    </div>

    <header>
        <div class="titulo" onclick="home()">
            <i class="fi fi-sr-layers"></i>
            <span>FlashcardsApp</span>
        </div>

        <div class="opciones">
            <button class="register" id="registrar" onclick="roles()">Registrarse</button>
        </div>
    </header>
    <main>
        <form action="/login" method="POST">
            <section class="logo">
                <i class="fi fi-sr-layers"></i>
                <p>FlashcardsApp</p>
            </section>
            <section class="formulario">
                <h1>Iniciar sesión</h1>

                <label for="user">Usuario</label><br>
                <input type="text" id="user" name="user" required><br>

                <label for="password">Contraseña</label><br>
                <input type="password" id="password" name="password" required><br>

            </section>
            <section class="botones">
                <input type="submit" value="Iniciar sesión">
                <a href="./roles"><strong>¿No tienes una cuenta?</strong> Registrate</a>
            </section>
        </form>
    </main>
</body>
<script>
    function home() {
        window.location.href = './';
    }
    function login() {
        window.location.href = './login';
    }

    function roles() {
        window.location.href = './roles';
    }

    
    document.addEventListener("DOMContentLoaded", function() {
            // Encuentra el contenedor de mensajes flash
            var flashContainer = document.querySelector('.flash-container');

            // Comprueba si hay un mensaje visible
            if (flashContainer && flashContainer.innerHTML.trim().length > 0) {
                // Ocultar el div después de 3 segundos (3000 ms)
                setTimeout(function() {
                    flashContainer.style.opacity = '0'; // Aplicar la transición de desvanecimiento
                    // Esperar a que la transición termine antes de ocultar completamente
                    setTimeout(function() {
                        flashContainer.style.display = 'none';
                    }, 500); // 500 ms para sincronizar con la transición de CSS
                }, 3000); // Esperar 3 segundos antes de comenzar a desvanecer
            }
        });


</script>

</html>